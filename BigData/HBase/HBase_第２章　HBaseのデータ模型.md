# HBase-分散型大規模非関係データベース -2

## 第２章　HBaseのデータ模型

**基本概念**

NameSpace（命名空間）：データベースのdatabase概念に似ており、各命名空間には複数のテーブルが存在する。HBaseにはhbaseとdefaultという2つの命名空間があり、hbaseにはHBaseの内蔵テーブル、defaultには黙認の状況でデータがこの命名空間に格納される。テーブルは命名空間の有無を選択でき、テーブルの作成時に命名空間を追加する場合、テーブル名はNamespace:Tableで区切られる。

Table：関係型データベースのテーブルの概念に似ているが、異なる点は、HBaseでは列族のみを指定すればよく、具体のテーブル属性などは全て列族内に設定されて、具体的な列を設定する必要はないということです。

Row：HBaseのテーブル内の各行は、RowKeyと複数の列で構成され、これらの列は列族によって分類される。HBaseデータベースには、行というの言い方があるが、ただ理解する為に理論の上に設定されるの概念で、事実のストレージ中に関係データベースように一層一層で行を重ねる形式ではない。

RowKey：RowKeyはユーザーが指定した重複しない文字列で構成され、行の唯一の識別子です。データはRowKeyの文字列の順序に保存され、RowKeyを索引として検索できるため、RowKeyの設計は非常に重要です。

Column Family（列族）：列族は複数の列の集合です。列族は動的に柔軟に複数の列を定義できる。表の関連する属性は殆ど列族で設置され、同じ表内の異なる列族は完全に異なる属性設定を持つことができまるが、同じ列族内の全ての列は同じ属性を持つ。列族の存在の意味は、類似の内容である列が同じ列族に分類され、HBaseができるだけ列族を同じサーバーに配置しようと検索効率的になるためです。

Column Qualifier（列）：HBaseの列は任意に定義でき、行内の列の名前や数は制約されない、唯一の制限は列が列族内に存在することに依存する。列の名前は、その所属する列族を前に付ける必要がある。例えば、info:name、info:age。

バージョン：データの異なるバージョンを識別するために使用されます。タイムスタンプはデフォルトでシステムによって指定されますが、ユーザーが明示的に指定することもできます。セルのデータを読み取る際、バージョン番号は省略できます。指定しない場合、HBaseはデフォルトで最後のバージョンのデータを取得します。

Cell（セル）：1つの列には複数のバージョンのデータを格納できます。そして、それぞれのバージョンをセル（Cell）と呼びます。

Region（テーブルの分割）：Regionは1つのテーブルの複数の行で構成されます。Region内では行のソートは行キー（rowkey）の辞書順になります。RegionはRegionServerを跨ぐことはできず、データ量が多い場合、HBaseはRegionを分割します。